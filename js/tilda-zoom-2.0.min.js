function t_initZoom(){0===$(".t-zoomer__wrapper").length&&(window.tzoominited=!0,window.tzoomopenonce=!1,window.isDoubletapScaleAdded=!1,$('[data-zoomable="yes"]:not(.t-slds__thumbs_gallery):not([data-img-zoom-url=""])').addClass("t-zoomable"),$("body").append('<div class="t-zoomer__wrapper"><div class="t-zoomer__container"></div><div class="t-zoomer__bg"></div><div class="t-zoomer__close" style="display:none;"><svg width="20" height="20" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.41421 -0.000151038L0 1.41406L21.2132 22.6273L22.6274 21.2131L1.41421 -0.000151038Z" fill="black"/><path d="M22.6291 1.41421L21.2148 0L0.00164068 21.2132L1.41585 22.6274L22.6291 1.41421Z" fill="black"/></svg></div></div>'),$(".t-zoomer__wrapper").append('<div class="t-zoomer__scale showed" style="display:none;"><svg class="icon-increase" width="20" height="20" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22.832 22L17.8592 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4.58591 3.7511C0.917768 7.41924 0.917768 13.367 4.58591 17.0352C8.25405 20.7033 14.2019 20.7033 17.87 17.0352C21.5381 13.367 21.5381 7.41924 17.87 3.7511C14.2019 0.0829653 8.25405 0.0829653 4.58591 3.7511Z" stroke="black" stroke-width="2"/><path d="M6.25781 10.3931H16.2035" stroke="black" stroke-width="2"/><path d="M11.2305 15.3662V5.42053" stroke="black" stroke-width="2"/></svg><svg class="icon-decrease" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.9961 22L17.0233 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.74997 3.7511C0.0818308 7.41924 0.0818308 13.367 3.74997 17.0352C7.41811 20.7033 13.3659 20.7033 17.0341 17.0352C20.7022 13.367 20.7022 7.41924 17.0341 3.7511C13.3659 0.0829653 7.41811 0.0829653 3.74997 3.7511Z" stroke="black" stroke-width="2"/><path d="M5.41797 10.3931H15.3637" stroke="black" stroke-width="2"/></svg></div>'),$(".r").on("click",'.t-zoomable:not([data-img-zoom-url=""])',t_zoomHandler),$(".r").on("click",".t-slds__thumbs_gallery-zoomable",t_zoomHandler),$(".t-zoomer__close, .t-zoomer__bg").click((function(){t_zoom_close(),0!=$(document).find(".t-popup_show").length&&$(document).keydown((function(o){27==o.keyCode&&void 0!==window.t_store_closePopup&&t_store_closePopup(!1)}))})))}function t_zoomHandler(){$("body").addClass("t-zoomer__show"),$(".t-zoomer__container").html('<div class="t-carousel__zoomed"><div class="t-carousel__zoomer__slides"><div class="t-carousel__zoomer__inner"><div class="t-carousel__zoomer__track"></div></div><div class="t-carousel__zoomer__control t-carousel__zoomer__control_left" data-zoomer-slide="prev"><div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_left"><div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_left t-carousel__zoomer__arrow_small"></div></div></div><div class="t-carousel__zoomer__control t-carousel__zoomer__control_right" data-zoomer-slide="next"><div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_right"><div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_right t-carousel__zoomer__arrow_small"></div></div></div></div></div>');var o=$(this).closest(".r").attr("id"),t=$("#"+o),e=t.find(".t-zoomable:not(.t-slds__thumbs_gallery):not(.tn-atom__slds-img)");if($("#"+o).find(".t-slds").length){var a=$(this).closest(".t-slds");a.length&&(e=a.find(".t-zoomable:not(.t-slds__thumbs_gallery)"))}$(".t-zoomer__close").css("display","flex");var r=$(".t-carousel__zoomer__track");e.each((function(o,t){var e="",a="",i="",n="",s=$(t).attr("data-img-zoom-url").split(",");($(t).is("img")||$(t).is("div"))&&(e=$(t).attr("title")||"",a=$(t).attr("data-img-zoom-descr")||""),""!==e&&(i='<div class="t-zoomer__title t-name t-descr_xxs">'+e+"</div>"),""!==a&&(n='<div class="t-zoomer__descr t-descr t-descr_xxs">'+a+"</div>"),r.append('<div class="t-carousel__zoomer__item"><div class="t-carousel__zoomer__wrapper"><img class="t-carousel__zoomer__img" src="'+s+'"></div><div class="t-zoomer__comments">'+i+n+"</div></div>")})),t_zoom_setModalColor(t);var i=$(".t-zoomer__wrapper"),n=$(".t-carousel__zoomer__item"),s=i.height()-n.height(),_=0,c=n.find(".t-zoomer__comments");c.each((function(o,t){var e=$(t).find(".t-zoomer__title"),a=$(t).find(".t-zoomer__descr");(""===e&&""===a||!e.length&&!a.length)&&$(t).css("padding","0");var r=$(t).innerHeight();_=_>r?_:r})),c.css("height",_);var l=n.find(".t-carousel__zoomer__img"),d=$(".t-carousel__zoomer__arrow__wrapper");if(l.css("max-height","calc(100vh - "+(_+s)+"px"),-1!==l.attr("src").indexOf(".svg")){var m=$(window).width();l.css("width",m)}d.css("top","calc(50% - "+_/2+"px)");var u=$(this).attr("data-img-zoom-url"),w=$('.t-carousel__zoomer__img[src="'+u+'"]').closest(".t-carousel__zoomer__item");if(n.each((function(o,t){$(t).attr("data-zoomer-slide-number",o)})),n.length>1&&t_zoom_loopSlider(),void 0!==w.position()){var z=w.position().left;w.addClass("active"),r.css({transition:"none",transform:"translateX("+-z+"px)"})}setTimeout((function(){r.css("transition","")})),$(".t-carousel__zoomer__control_right").click((function(){"y"!==r.attr("data-on-transition")&&"y"!==i.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("next"),t_zoom_checkForScale()})))})),$(".t-carousel__zoomer__control_left").click((function(){"y"!==r.attr("data-on-transition")&&"y"!==i.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("prev"),t_zoom_checkForScale()})))})),$(document).unbind("keydown"),$(document).keydown((function(o){37==o.keyCode&&"y"!==r.attr("data-on-transition")&&"y"!==i.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("prev"),t_zoom_checkForScale()}))),39==o.keyCode&&"y"!==r.attr("data-on-transition")&&"y"!==i.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("next"),t_zoom_checkForScale()}))),27==o.keyCode&&(t_zoom_close(),$(document).find(".t-popup_show").length>0&&$(document).keydown((function(o){27==o.keyCode&&t_store_closePopup(!1)})))}));var p=$(".t-carousel__zoomer__item").length;$("body").addClass("t-zoomer__show_fixed"),1==p&&$(".t-carousel__zoomer__control").css("display","none"),$(".t-carousel__zoomer__inner").click((function(){window.isMobile||($(this).hasClass("scale-active")?t_zoom_unscale():window.isMobile||t_zoom_close())})),t_zoom_checkForScale(),t_zoom_lockScroll(),t_zoom_initSwipe(),t_zoom_initCloseSwipe(),t_zoom_initResizeListener(),window.tzoomopenonce=!0,window.isMobile&&(t_zoom_setHideControlsTimer(),i.on("touchstart touchmove touchend mousemove",t_zoom_setHideControlsTimer))}function t_zoom_initSwipe(){var o=$(".t-carousel__zoomer__item"),t=$(".t-carousel__zoomer__track"),e=$(".t-zoomer__wrapper");if(o.length>1){var a,r=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),i=!1;r.on("panstart",(function(){"y"!==t.attr("data-on-transition")?(a=t.position().left,t.css("transition","none")):a=null,i=1!==window.visualViewport.scale||e.hasClass("scale-active")})),r.on("panmove",(function(o){if("y"!==t.attr("data-on-transition")&&"y"!==e.attr("data-on-drag")&&1===o.maxPointers&&!i&&(Math.abs(o.deltaX)>40&&t.attr("data-on-drag","y"),a)){var r=a+o.deltaX;t.css("transform","translateX("+r+"px)")}})),window.tzoomopenonce||r.on("panend",(function(o){var t=$(".t-carousel__zoomer__track");if(t.attr("data-on-drag",""),"y"!==t.attr("data-on-transition")&&"y"!==e.attr("data-on-drag")&&1===o.maxPointers&&!i){t.css("transition","");var a=Math.abs(o.velocityX),r=t.position().left,n=$(".t-carousel__zoomer__item").width(),s=t.find(".t-carousel__zoomer__item.active").position().left,_=(n-Math.abs(r+s))/a/1e3;_=_>.6?.6:_<.2?.2:_,t.css("transition-duration",_+"s"),o.velocityX<-.5||o.deltaX<-80?(t_zoom_unscale(),t_zoom_showSlide("next"),t_zoom_checkForScale()):o.velocityX>.5||o.deltaX>80?(t_zoom_unscale(),t_zoom_showSlide("prev"),t_zoom_checkForScale()):t_zoom_showSlide()}}))}}function t_zoom_showSlide(o){var t=$(".t-carousel__zoomer__track"),e=t.find(".t-carousel__zoomer__item"),a=t.find(".t-carousel__zoomer__item.active").index();"next"===o&&(a=(a+1)%e.length,t.attr("data-on-transition","y")),"prev"===o&&(a=(e.length+(a-1))%e.length,t.attr("data-on-transition","y"));var r=e.eq(a).position().left;e.removeClass("active").eq(a).addClass("active"),t.css("transform","translateX("+-r+"px")}function t_zoom_transitForLoop(o){var t,e,a=$(".t-carousel__zoomer__track"),r=$(".t-carousel__zoomer__item");if(!o)return 1;"start"===o&&(t=r.length-2),"end"===o&&(t=1),e=r.eq(t).position().left,r.removeClass("active").eq(t).addClass("active"),a.css({transition:"none",transform:"translateX("+-e+"px)"}),setTimeout((function(){a.css("transition","")}))}function t_zoom_loopSlider(){var o=$(".t-carousel__zoomer__track"),t=o.find(".t-carousel__zoomer__item"),e=t.eq(0).clone(),a=t.eq(t.length-1).clone();o.prepend(a).append(e);var r=o.find(".t-carousel__zoomer__item").length;o.on("transitionend webkitTransitionEnd oTransitionEnd",(function(){var t=o.find(".active").index();0===t&&t_zoom_transitForLoop("start"),t===r-1&&t_zoom_transitForLoop("end"),o.attr("data-on-transition","")}))}function t_zoom_initCloseSwipe(){var o,t=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_VERTICAL}]]}),e=$(".t-zoomer__wrapper"),a=$(".t-carousel__zoomer__track"),r=!1;t.on("panstart",(function(){o=e.position().top,e.css("transition","none"),r=1!==window.visualViewport.scale||e.hasClass("scale-active")})),t.on("panmove",(function(t){var i=Math.abs(t.deltaY);if(("y"!==a.attr("data-on-drag")||"y"===e.attr("data-on-drag"))&&(t.angle>-120&&t.angle<-60||t.angle<120&&t.angle>60)&&1===t.maxPointers&&!r){i>40&&e.attr("data-on-drag","y");var n=o+t.deltaY;e.css("transform","translateY("+n+"px)")}})),t.on("panend",t_zoom_closeSwipeHandler)}function t_zoom_closeSwipeHandler(o){var t=$(".t-zoomer__wrapper"),e=1!==window.visualViewport.scale||t.hasClass("scale-active");t.css("transition","transform 300ms ease-out"),Math.abs(o.deltaY)<40&&t.css("transform",""),"y"!==t.attr("data-on-drag")||1!==o.maxPointers||e||(o.deltaY<-200||o.velocityY<-.3?(t.css("transform","translateY(-100vh)"),setTimeout((function(){t_zoom_close(),t.css("transform","")}),300)):o.deltaY>200||o.velocityY>.3?(t.css("transform","translateY(100vh)"),setTimeout((function(){t_zoom_close(),t.css("transform","")}),300)):t.css("transform","")),t.attr("data-on-drag","")}function t_zoom_checkForScale(){var o=!1,t=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img:not(.loaded)");if(t.length&&(t.on("load",(function(){if(!o)return $(window).width()<t[0].naturalWidth||$(window).height()<t[0].naturalHeight?(t.addClass("loaded"),window.isDoubletapScaleAdded||t_zoom_doubletapScaleInit(),void t_zoom_scale_init()):void 0})),t[0].complete&&!o)){if(o=!0,$(window).width()<t[0].naturalWidth||$(window).height()<t[0].naturalHeight)return window.isDoubletapScaleAdded||t_zoom_doubletapScaleInit(),void t_zoom_scale_init();$(".t-zoomer__scale").css("display","")}}function t_zoom_scale_init(){$(".t-zoomer__scale").css("display","block"),"y"!==$(".t-zoomer__scale").attr("data-zoom-scale-init")&&($(".t-zoomer__scale").attr("data-zoom-scale-init","y"),$(".t-zoomer__wrapper").on("click",".t-zoomer__scale",(function(o){$(".t-carousel__zoomer__track").attr("data-on-transition","");var t=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),e=$(".t-zoomer__wrapper"),a=$(".t-carousel__zoomer__inner"),r=$(".t-carousel__zoomer__track");t.css("max-height",""),r.css({transition:"none",transform:"none"}),e.hasClass("scale-active")?t_zoom_unscale():(e.addClass("scale-active"),a.addClass("scale-active"),window.isMobile?t_zoom_mobileZoomPositioningInit(t):t_zoom_desktopZoomPositioningInit(t,o))})))}function t_zoom_doubletapScaleInit(){window.isDoubletapScaleAdded=!0,new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Tap]]}).on("tap",(function(o){if(2===o.tapCount&&$("body").hasClass("t-zoomer__show")&&!o.target.closest(".t-carousel__zoomer__control")){var t=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),e=$(".t-zoomer__wrapper"),a=$(".t-carousel__zoomer__inner"),r=$(".t-carousel__zoomer__track");t.css("max-height",""),r.css({transition:"none",transform:"none"}),e.hasClass("scale-active")?t_zoom_unscale():(e.addClass("scale-active"),a.addClass("scale-active"),t_zoom_mobileZoomPositioningInit(t))}}))}function t_zoom_desktopZoomPositioningInit(o,t){var e,a,r,i,n=($(window).width()-o.width())/2,s=($(window).height()-o.height())/2;o.css({left:n,top:s}),$(window).width()<o[0].naturalWidth&&(r=100*t.clientX/$(window).width(),i=-r*(o.width()-$(window).width())/100,o.css("left",i+"px"),o.on(window.isMobile?"touchmove":"mousemove",(function(t){r=100*(void 0!==t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.clientX)/$(window).width(),i=-r*(o.width()-$(window).width())/100,o.css("left",i+"px")}))),$(window).height()<o[0].naturalHeight&&(e=100*t.clientY/$(window).height(),a=-e*(o.height()-$(window).height())/100,o.css("top",a+"px"),o.on(window.isMobile?"touchmove":"mousemove",(function(t){e=100*(void 0!==t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.clientY)/$(window).height(),a=-e*(o.height()-$(window).height())/100,o.css("top",a+"px")})))}function t_zoom_mobileZoomPositioningInit(o){var t=($(window).width()-o.width())/2,e=($(window).height()-o.height())/2;o.css({left:t,top:e});var a={x:0,y:0},r={},i={};o.on("touchstart",(function(o){r=t_zoom_getTouchEventXY(o)})),o.on("touchmove",(function(n){var s=t_zoom_getTouchEventXY(n),_=1.5*(s.x-r.x),c=1.5*(s.y-r.y);i.x=a.x+_,i.y=a.y+c,i.x>-t&&(i.x=-t),i.x<t&&(i.x=t),i.y>-e&&(i.y=-e),i.y<e&&(i.y=e),o.css("transform","translate("+i.x+"px, "+i.y+"px)")})),o.on("touchend touchcancel",(function(){a.x=i.x,a.y=i.y}))}function t_zoom_getTouchEventXY(o){var t={x:0,y:0};if("touchstart"==o.type||"touchmove"==o.type||"touchend"==o.type||"touchcancel"==o.type){var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.x=e.pageX,t.y=e.pageY}return t}function t_zoom_close(){t_zoom_unscale(),$("body").removeClass("t-zoomer__show t-zoomer__show_fixed"),$(document).unbind("keydown"),t_zoom_unlockScroll()}function t_zoom_unscale(){$(".t-zoomer__wrapper.scale-active, .t-carousel__zoomer__inner").removeClass("scale-active");var o=$(".t-carousel__zoomer__item.active"),t=o.find(".t-carousel__zoomer__img"),e=$(".t-carousel__zoomer__track"),a=$(".t-zoomer__wrapper").height()-o.height(),r=$(o).find(".t-zoomer__comments").innerHeight();if(t.off("mousemove touchmove").css({transform:"",left:"",top:"",maxHeight:"calc(100vh - "+(a+r)+"px"}),void 0!==o.position()){var i=o.position().left;e.css("transform","translateX("+-i+"px)")}setTimeout((function(){e.css("transition","")}),10)}function t_zoom_lockScroll(){var o=/(android)/i.test(navigator.userAgent);if((window.isiOS&&!window.MSStream||o)&&(""!==window.isiOSVersion&&void 0!==window.isiOSVersion||o)&&(11===window.isiOSVersion[0]||o)){var t=$("body");if(!t.hasClass("t-body_scroll-locked")){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;t.addClass("t-body_scroll-locked"),t.css("top","-"+e+"px"),t.attr("data-popup-scrolltop",e)}}}function t_zoom_unlockScroll(){var o=/(android)/i.test(navigator.userAgent);if((window.isiOS&&!window.MSStream||o)&&(""!==window.isiOSVersion&&void 0!==window.isiOSVersion||o)&&(11===window.isiOSVersion[0]||o)){var t=$("body");if(t.hasClass("t-body_scroll-locked")){var e=$("body").attr("data-popup-scrolltop");t.removeClass("t-body_scroll-locked"),t.css("top",""),t.removeAttr("data-popup-scrolltop"),window.scrollTo(0,e)}}}function t_zoom_initResizeListener(){var o=t_throttle(t_zoom_resizeHandler,300);$(window).on("resize",o)}function t_zoom_resizeHandler(){var o=$(".t-carousel__zoomer__track"),t=o.find(".t-carousel__zoomer__item.active").position().left;o.css("transform","translateX("+-t+"px)")}function t_zoom_onFuncLoad(o,t,e){"function"==typeof window[o]?t():setTimeout((function a(){if("function"!=typeof window[o]){if("complete"===document.readyState&&"function"!=typeof window[o])throw new Error(o+" is undefined");setTimeout(a,e||100)}else t()}))}function t_zoom_setModalColor(o){var t=o.attr("data-bg-color")?o.attr("data-bg-color"):"#ffffff";t=t_zoom_hexToRgb(t);var e,a,r=$(".t-zoomer__container"),i=$(".t-zoomer__wrapper svg"),n=i.find("path"),s=$(".t-zoomer__close, .t-zoomer__scale"),_=r.find(".t-carousel__zoomer__arrow__wrapper"),c="black"===t_zoom_luma_rgb(t)?"#000000":"#ffffff";"#000000"===c?(e="#ffffff",a="rgba(1, 1, 1, 0.3)",_.addClass("t-carousel__zoomer__arrow__wrapper_dark")):(e="#000000",a="rgba(255, 255, 255, 0.3)",_.removeClass("t-carousel__zoomer__arrow__wrapper_dark")),s.css("background",a),r.css({"background-color":c,color:e}),i.each((function(o,t){$(t).attr("fill")})),n.each((function(o,t){$(t).attr("stroke")&&$(t).attr("stroke",e),$(t).attr("fill")&&$(t).attr("fill",e)})),$(".t-zoomer__title, .t-zoomer__descr").css("color",e)}function t_zoom_luma_rgb(o){var t=Array.isArray(o);if(void 0===o)return"black";if(0!=o.indexOf("rgb")&&!t)return"black";var e=t?o:o.split("(")[1].split(")")[0].split(",");return e.length<3||.2126*e[0]+.7152*e[1]+.0722*e[2]<128?"black":"white"}function t_zoom_hexToRgb(o){o=o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(o,t,e,a){return t+t+e+e+a+a}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o),e=t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;return t?[e.r,e.g,e.b]:null}function t_zoom_setHideControlsTimer(){var o=$(".t-carousel__zoomer__arrow__wrapper, .t-zoomer__scale");o.removeClass("t-zoomer__hide-animation"),setTimeout((function(){o.addClass("t-zoomer__hide-animation")}))}$(document).ready((function(){window.tzoominited||t_zoom_onFuncLoad("t_initZoom",(function(){t_initZoom()}))}));