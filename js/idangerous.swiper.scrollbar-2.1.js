Swiper.prototype.plugins.scrollbar=function(e,t){if(t&&t.container){var n={hide:!0,draggable:!0,snapOnRelease:!1};for(var r in t=t||{},n)r in t||(t[r]=n[r]);if((document.querySelectorAll||window.jQuery)&&(t.container.nodeType||0!=x(t.container).length)){var i,o,a,s,c,u,l=t.container.nodeType?t.container:x(t.container)[0],h="horizontal"==e.params.mode,p=l,d=document.createElement("div");d.className="swiper-scrollbar-drag",t.draggable&&(d.className+=" swiper-scrollbar-cursor-drag"),p.appendChild(d),t.hide&&(p.style.opacity=0);var f,v=e.touchEvents;if(t.draggable){var T=!1;function g(t){T=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,S(t),clearTimeout(f),e.setTransition(p,0),p.style.opacity=1,e.setWrapperTransition(100),e.setTransition(d,100)}function m(t){T&&(t.preventDefault?t.preventDefault():t.returnValue=!1,S(t),e.setWrapperTransition(0),e.setTransition(p,0),e.setTransition(d,0))}function w(n){T=!1,t.hide&&(clearTimeout(f),f=setTimeout((function(){p.style.opacity=0,e.setTransition(p,400)}),1e3)),t.snapOnRelease&&e.swipeReset()}var E=e.support.touch?p:document;function S(t){var n=y=0;h?(n=(t.pageX||t.clientX)-e.h.getOffset(p).left-c/2)<0?n=0:n+c>i&&(n=i-c):(y=(t.pageY||t.clientY)-e.h.getOffset(p).top-u/2,y<0?y=0:y+u>o&&(y=o-u)),e.setTranslate(d,{x:n,y:y});var r=-n/s,a=-y/s;e.setWrapperTranslate(r,a)}e.h.addEventListener(p,v.touchStart,g,!1),e.h.addEventListener(E,v.touchMove,m,!1),e.h.addEventListener(E,v.touchEnd,w,!1)}return{onFirstInit:function(e){W()},onInit:function(e){W()},onTouchMoveEnd:function(n){t.hide&&(clearTimeout(f),p.style.opacity=1,e.setTransition(p,200))},onTouchEnd:function(n){t.hide&&(clearTimeout(f),f=setTimeout((function(){p.style.opacity=0,e.setTransition(p,400)}),1e3))},onSetWrapperTransform:function(n){if(h){var r=n.x*s,a=c;if(r>0){var l=r;r=0,a=c-l}else-r+c>i&&(a=i+r);e.setTranslate(d,{x:-r}),d.style.width=a+"px"}else{var y=n.y*s,v=u;if(y>0){l=y;y=0,v=u-l}else-y+u>o&&(v=o+y);e.setTranslate(d,{y:-y}),d.style.height=v+"px"}e.params.freeMode&&t.hide&&(clearTimeout(f),p.style.opacity=1,f=setTimeout((function(){p.style.opacity=0,e.setTransition(p,400)}),1e3))},onSetWrapperTransition:function(t){e.setTransition(d,t.duration)},onDestroy:function(){var t=e.support.touch?p:document;e.h.removeEventListener(p,v.touchStart,g,!1),e.h.removeEventListener(t,v.touchMove,m,!1),e.h.removeEventListener(t,v.touchEnd,w,!1)}}}}function x(e){return document.querySelectorAll?document.querySelectorAll(e):jQuery(e)}function W(){d.style.width="",d.style.height="",h?(i=e.h.getWidth(p,!0),a=e.width/e.h.getWidth(e.wrapper),s=a*(i/e.width),c=i*a,d.style.width=c+"px"):(o=e.h.getHeight(p,!0),a=e.height/e.h.getHeight(e.wrapper),s=a*(o/e.height),(u=o*a)>o&&(u=o),d.style.height=u+"px")}};